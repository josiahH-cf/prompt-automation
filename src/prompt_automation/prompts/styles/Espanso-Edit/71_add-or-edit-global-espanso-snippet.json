{
  "schema": 1,
  "id": 71,
  "title": "Add or Edit Global Espanso Snippet (Package-first)",
  "style": "Espanso-Edit",
  "role": "assistant",
  "template": [
    "## Prompt",
  "What do you want the snippet to do?",
  "",
  "{{intent}}",
    "",
    "## Instructions",
    "- We'll add/edit this snippet in the repo-managed package at: `espanso-package/match/*.yml`.",
    "- The runbook will mirror changes to `packages/your-pa/<version>/` and install/update via Git.",
    "- We'll keep the manifest and package layout valid for Espanso.",
    "",
    "## Provide the following details",
    "- Trigger: e.g., :ntsk",
    "- Replacement: plain text or multi-line",
    "- Optional form/vars: if interactive fields are needed",
    "- Optional conditions: app filtering, when clause, etc.",
    "- File target: either an existing match file name under espanso-package/match (e.g., base.yml) or a new file name (e.g., tasks.yml).",
    "",
    "## Output format (what I will produce)",
    "1) A well-formed Espanso YAML snippet block, ready to paste into the target match file.",
    "2) The exact file path to edit: `espanso-package/match/<your_file>.yml`.",
    "3) A short checklist to bump version, commit, push, and update on Windows.",
    "",
    "## Example snippet",
    "```yaml",
    "matches:",
    "  - trigger: \":ntsk\"",
    "    replace: \"{{create_todoist_task_ntsk}}\"",
    "    vars:",
    "      - name: create_todoist_task_ntsk",
    "        type: shell",
    "        params:",
    "          cmd: \"pwsh -NoProfile -ExecutionPolicy Bypass -File '$env:USERPROFILE\\scripts\\create-task.ps1' '{{query}}'\"",
    "```",
    "",
    "## After you paste the snippet",
    "- Save the file (e.g., `espanso-package/match/tasks.yml`).",
    "- Option A (WSL): run `bash scripts/espanso-package-runbook.sh`.",
    "- Option B (Windows): run `espanso package update your-pa; espanso restart`.",
    "- Validate in a text field using the trigger.",
    ""
  ],
  "placeholders": [
    {
      "name": "intent",
      "label": "What do you want the snippet to do? (trigger, replace, vars, conditions, target file)",
      "multiline": true,
      "required": true,
      "default": ""
    }
  ],
  "global_placeholders": {},
  "metadata": {
    "path": "Espanso-Edit/add-or-edit-global-espanso-snippet.json",
    "tags": ["espanso", "snippet", "package"],
    "version": 1,
    "render": "markdown",
    "share_this_file_openly": true
  }
}
